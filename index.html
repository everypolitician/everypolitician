---
layout: default
---
  <div class="hero hero--homepage hero--blue">
      <div class="container">
        <div id="js-welcome-message">
          <h1>Help build a public list of every politician in the world!</h1>
          <ol class="steps-list">
            <li class="step one">Know where to find a list of politicians for your country?</li>
            <li class="step two">Convert it to the Popolo JSON standard</li>
            <li class="step three">Now anyone can use it to build web tools</li>
          </ol>
          <p class="subtitle"><a href="{{ site.baseurl }}/about">Read more about the project &rarr;</a></p>

        </div>

      </div>
  </div>

  <div class="homepage-map">
      <div class="container">
          <h2 id="map">Our progress</h2>
          <div id="vmap" style="width: 1000px; height: 500px"></div>
      </div>
  </div>

  <script type="text/javascript">

    var other_countries = {
      al: 'http://api.parldata.eu/al/',
      ar: 'https://cargografias.popit.mysociety.org',
      cz: 'http://api.parldata.eu/cz/',
      gr: 'https://greekparliament.popit.mysociety.org',
      gt: 'https://congresistas-gt.popit.mysociety.org',
      hu: 'http://api.parldata.eu/hu/',
      in: 'https://chetan.popit.mysociety.org',
      ke: 'https://kenyan-politicians.popit.mysociety.org',
      my: 'https://sinar-malaysia.popit.mysociety.org',
      mx: 'https://legisladores-mx.popit.mysociety.org',
      ng: 'https://nigerian-politicians.popit.mysociety.org',
      pl: 'http://api.parldata.eu/pl/',
      rs: 'http://api.parldata.eu/rs/',
      sk: 'http://api.parldata.eu/sk/',
      za: 'https://za-peoples-assembly.popit.mysociety.org',
      kr: 'https://southkorea.popit.mysociety.org',
      tw: 'https://taiwan.popit.mysociety.org',
      // Micronesia: 'https://micronesiagovernment.popit.mysociety.org',
    }

    var draw_map = function() {
      var colors = {}
      $.each(Object.keys(other_countries), function(i, v) { colors[v] = '#afe8e1' });
      $.each(Object.keys(ep_countries),    function(i, v) { colors[v] = '#01BFA9' });
      jQuery('#vmap').vectorMap({ 
        map: 'world_en',
        backgroundColor: '#ffffff',
        hoverColor: false,
        colors: colors,
        onRegionClick: function(event, code, region) { 
          event.preventDefault();
          if ($(event.currentTarget).data('mapObject').isMoving) {
            return false;
          }
          if(ep_link = ep_countries[code]) { 
            var url = 'http://data.everypolitician.org' + ep_link + '/term_table.html'
            window.location = url;
          } else if (ex_link = other_countries[code]) { 
            window.location = ex_link
          }
          return false;
        },
      });
    };

    var latest_commit = '2616cd3d3c001d0fe11de8c059b7584a8311a12a'
    var gh_raw = 'https://cdn.rawgit.com/everypolitician/everypolitician-data/' + latest_commit + '/countries.json';
    var ep_countries = {}
    var ep_json = $.getJSON(gh_raw, function(data) { 
      $.each(data, function(i, val) { 
        ep_countries[val.code.toLowerCase()] = val.url
      });
      // console.log(ep_countries);
      jQuery(document).ready(draw_map());
    });

  </script>

